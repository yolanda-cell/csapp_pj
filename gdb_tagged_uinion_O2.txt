(base) yolanda@yolansasus:~/code/schoolwork/final_pj$ gdb ./tagged_union_O2

...

(gdb) b 94
Breakpoint 1 at 0x11dd: tagged_union.c:94. (2 locations)
(gdb) r


Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
INT: 10
DOUBLE: 3.140000
OWNED_STR: hello
score(a)=11
score(b)=5

Breakpoint 1.1, value_score (v=0x7fffffffd7b0) at tagged_union.c:96
96          switch (v->tag) {
(gdb) disas value_score
Dump of assembler code for function main:
Address range 0x555555555140 to 0x5555555552c2:
   0x0000555555555140 <+0>:     endbr64
   0x0000555555555144 <+4>:     push   %rbp
   0x0000555555555145 <+5>:     lea    0xedd(%rip),%rdi        # 0x555555556029
   0x000055555555514c <+12>:    mov    %rsp,%rbp
   0x000055555555514f <+15>:    push   %r12
   0x0000555555555151 <+17>:    push   %rbx
   0x0000555555555152 <+18>:    sub    $0x40,%rsp
   0x0000555555555156 <+22>:    mov    %fs:0x28,%rax
   0x000055555555515f <+31>:    mov    %rax,-0x18(%rbp)
   0x0000555555555163 <+35>:    xor    %eax,%eax
   0x0000555555555165 <+37>:    mov    0xef4(%rip),%rax        # 0x555555556060
   0x000055555555516c <+44>:    movl   $0x1,-0x50(%rbp)
   0x0000555555555173 <+51>:    mov    %rax,-0x48(%rbp)
   0x0000555555555177 <+55>:    call   0x5555555553c0 <value_owned_str>
   0x000055555555517c <+60>:    lea    0xe81(%rip),%rsi        # 0x555555556004
   0x0000555555555183 <+67>:    mov    $0x2,%edi
   0x0000555555555188 <+72>:    mov    %eax,-0x40(%rbp)
   0x000055555555518b <+75>:    xor    %eax,%eax
   0x000055555555518d <+77>:    mov    %rdx,-0x38(%rbp)
   0x0000555555555191 <+81>:    mov    $0xa,%edx
   0x0000555555555196 <+86>:    call   0x555555555110 <__printf_chk@plt>
   0x000055555555519b <+91>:    lea    -0x50(%rbp),%rdi
   0x000055555555519f <+95>:    call   0x555555555410 <value_print>
   0x00005555555551a4 <+100>:   lea    -0x40(%rbp),%rdi
   0x00005555555551a8 <+104>:   call   0x555555555410 <value_print>
   0x00005555555551ad <+109>:   mov    $0xb,%edx
   0x00005555555551b2 <+114>:   lea    0xe76(%rip),%rsi        # 0x55555555602f
--Type <RET> for more, q to quit, c to continue without paging--c
   0x00005555555551b9 <+121>:   xor    %eax,%eax
   0x00005555555551bb <+123>:   mov    $0x2,%edi
   0x00005555555551c0 <+128>:   call   0x555555555110 <__printf_chk@plt>
   0x00005555555551c5 <+133>:   mov    $0x5,%edx
   0x00005555555551ca <+138>:   lea    0xe6c(%rip),%rsi        # 0x55555555603d
   0x00005555555551d1 <+145>:   xor    %eax,%eax
   0x00005555555551d3 <+147>:   mov    $0x2,%edi
   0x00005555555551d8 <+152>:   call   0x555555555110 <__printf_chk@plt>
=> 0x00005555555551dd <+157>:   mov    -0x40(%rbp),%ebx
   0x00005555555551e0 <+160>:   cmp    $0x1,%ebx
   0x00005555555551e3 <+163>:   je     0x55555555528b <main+331>
   0x00005555555551e9 <+169>:   cmp    $0x2,%ebx
   0x00005555555551ec <+172>:   jne    0x555555555234 <main+244>
   0x00005555555551ee <+174>:   mov    -0x38(%rbp),%rbx
   0x00005555555551f2 <+178>:   mov    %rbx,%rdi
   0x00005555555551f5 <+181>:   call   0x5555555550d0 <strlen@plt>
   0x00005555555551fa <+186>:   lea    0xe4a(%rip),%rsi        # 0x55555555604b
   0x0000555555555201 <+193>:   mov    $0x2,%edi
   0x0000555555555206 <+198>:   lea    0x3(%rax),%rdx
   0x000055555555520a <+202>:   xor    %eax,%eax
   0x000055555555520c <+204>:   call   0x555555555110 <__printf_chk@plt>
   0x0000555555555211 <+209>:   mov    %rbx,%rdi
   0x0000555555555214 <+212>:   call   0x5555555553c0 <value_owned_str>
   0x0000555555555219 <+217>:   lea    -0x30(%rbp),%rdi
   0x000055555555521d <+221>:   mov    %rax,-0x30(%rbp)
   0x0000555555555221 <+225>:   mov    %rdx,-0x28(%rbp)
   0x0000555555555225 <+229>:   call   0x555555555410 <value_print>
   0x000055555555522a <+234>:   mov    %rbx,%rdi
   0x000055555555522d <+237>:   call   0x5555555550b0 <free@plt>
   0x0000555555555232 <+242>:   jmp    0x55555555526b <main+299>
   0x0000555555555234 <+244>:   test   %ebx,%ebx
   0x0000555555555236 <+246>:   jne    0x55555555512e <main.cold>
   0x000055555555523c <+252>:   mov    -0x38(%rbp),%r12
   0x0000555555555240 <+256>:   lea    0xe04(%rip),%rsi        # 0x55555555604b
   0x0000555555555247 <+263>:   mov    $0x2,%edi
   0x000055555555524c <+268>:   xor    %eax,%eax
   0x000055555555524e <+270>:   lea    0x1(%r12),%rdx
   0x0000555555555253 <+275>:   call   0x555555555110 <__printf_chk@plt>
   0x0000555555555258 <+280>:   mov    %ebx,%eax
   0x000055555555525a <+282>:   lea    -0x30(%rbp),%rdi
   0x000055555555525e <+286>:   mov    %r12,-0x28(%rbp)
   0x0000555555555262 <+290>:   mov    %rax,-0x30(%rbp)
   0x0000555555555266 <+294>:   call   0x555555555410 <value_print>
   0x000055555555526b <+299>:   cmpl   $0x2,-0x30(%rbp)
   0x000055555555526f <+303>:   je     0x5555555552b2 <main+370>
   0x0000555555555271 <+305>:   mov    -0x18(%rbp),%rax
   0x0000555555555275 <+309>:   sub    %fs:0x28,%rax
   0x000055555555527e <+318>:   jne    0x5555555552bd <main+381>
   0x0000555555555280 <+320>:   add    $0x40,%rsp
   0x0000555555555284 <+324>:   xor    %eax,%eax
   0x0000555555555286 <+326>:   pop    %rbx
   0x0000555555555287 <+327>:   pop    %r12
   0x0000555555555289 <+329>:   pop    %rbp
   0x000055555555528a <+330>:   ret
   0x000055555555528b <+331>:   mov    -0x38(%rbp),%r12
   0x000055555555528f <+335>:   lea    0xdb5(%rip),%rsi        # 0x55555555604b
   0x0000555555555296 <+342>:   mov    $0x2,%edi
   0x000055555555529b <+347>:   xor    %eax,%eax
   0x000055555555529d <+349>:   movq   %r12,%xmm0
   0x00005555555552a2 <+354>:   cvttsd2si %xmm0,%rdx
   0x00005555555552a7 <+359>:   add    $0x2,%rdx
   0x00005555555552ab <+363>:   call   0x555555555110 <__printf_chk@plt>
   0x00005555555552b0 <+368>:   jmp    0x555555555258 <main+280>
   0x00005555555552b2 <+370>:   mov    -0x28(%rbp),%rdi
   0x00005555555552b6 <+374>:   call   0x5555555550b0 <free@plt>
   0x00005555555552bb <+379>:   jmp    0x555555555271 <main+305>
   0x00005555555552bd <+381>:   call   0x5555555550e0 <__stack_chk_fail@plt>
Address range 0x55555555512e to 0x555555555133:
   0x000055555555512e <-18>:    call   0x5555555550c0 <abort@plt>
End of assembler dump.